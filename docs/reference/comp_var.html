<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate maars_lm, lm object with estimates of the variance — comp_var • maars</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Generate maars_lm, lm object with estimates of the variance — comp_var" />
<meta property="og:description" content="Generates an object of class &quot;maars_lm&quot;, &quot;lm&quot; containing
estimates of the variance of the coefficients in the regression
model." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">maars</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/se-la-county-data.html">Reproducing Buja et. al. Tables</a>
    </li>
    <li>
      <a href="../articles/hubbard-gee-simulation.html">Hubbard et. al simulation</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/shamindras/maars/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate <code>maars_lm, lm</code> object with estimates of the variance</h1>
    <small class="dont-index">Source: <a href='https://github.com/shamindras/maars/blob/master/R/maars-lm.R'><code>R/maars-lm.R</code></a></small>
    <div class="hidden name"><code>comp_var.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates an object of class <code>"maars_lm", "lm"</code> containing
estimates of the variance of the coefficients in the regression
model.</p>
    </div>

    <pre class="usage"><span class='fu'>comp_var</span><span class='op'>(</span>
  <span class='va'>mod_fit</span>,
  boot_emp <span class='op'>=</span> <span class='cn'>NULL</span>,
  boot_sub <span class='op'>=</span> <span class='cn'>NULL</span>,
  boot_res <span class='op'>=</span> <span class='cn'>NULL</span>,
  boot_mul <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mod_fit</th>
      <td><p>An lm (OLS) object</p></td>
    </tr>
    <tr>
      <th>boot_emp</th>
      <td><p>(list) In the case of empirical bootstrap the expected input
is of the form #'   <code><a href='https://rdrr.io/r/base/list.html'>list(B = 10, m = 100)</a></code>. Here the named
element <code>m</code> is optional e.g. <code><a href='https://rdrr.io/r/base/list.html'>list(B = 10)</a></code> is valid, or passed
in as an explicit <code>NULL</code> e.g. <code><a href='https://rdrr.io/r/base/list.html'>list(B = 10, m = NULL)</a></code>.
Note that technically <code>B, m</code> should both be positive integers,
but this assertion checking is handled explicitly in the
<code><a href='comp_boot_emp.html'>comp_boot_emp</a></code> function. So although passing
in <code><a href='https://rdrr.io/r/base/list.html'>list(B = -15, m = -20)</a></code> will pass this function without errors,
these will be addressed explicitly in <code><a href='comp_boot_emp.html'>comp_boot_emp</a></code> as
invalid inputs.</p></td>
    </tr>
    <tr>
      <th>boot_sub</th>
      <td><p>(list) TODO: ADD</p></td>
    </tr>
    <tr>
      <th>boot_res</th>
      <td><p>(list) : In the case of residual bootstrap the expected
input is of the form <code><a href='https://rdrr.io/r/base/list.html'>list(B = 10)</a></code>. Note that technically <code>B</code>
should be a positive integer, but this assertion checking is handled
explicitly in the <code><a href='comp_boot_res.html'>comp_boot_res</a></code> function. So although passing
in <code><a href='https://rdrr.io/r/base/list.html'>list(B = -15)</a></code> will pass this function without errors,
these will be addressed explicitly in <code><a href='comp_boot_res.html'>comp_boot_res</a></code> as
invalid inputs.</p></td>
    </tr>
    <tr>
      <th>boot_mul</th>
      <td><p>(list) : In the case of multiplier bootstrap the expected
input is of the form <code><a href='https://rdrr.io/r/base/list.html'>list(B = 10, weights_type = "rademacher")</a></code>.
Here the named element <code>weights_type</code> is optional
e.g. <code><a href='https://rdrr.io/r/base/list.html'>list(B = 10)</a></code> is valid, or passed in as an explicit <code>NULL</code>
e.g. <code><a href='https://rdrr.io/r/base/list.html'>list(B = 10, weights_type = NULL)</a></code>.
Note that technically <code>B</code> should be a positive integer, and
<code>weights_type</code> should be a character vector
(see <code><a href='comp_boot_mul.html'>comp_boot_mul</a></code>), but this assertion checking is handled
explicitly in the <code><a href='comp_boot_mul.html'>comp_boot_mul</a></code> function. So although passing
in <code><a href='https://rdrr.io/r/base/list.html'>list(B = -15, m = "test")</a></code> will pass this function without errors,
these will be addressed explicitly in <code><a href='comp_boot_mul.html'>comp_boot_mul</a></code> as
invalid inputs.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A "maars_lm" object containing the estimates of the variance of the
regression coefficients, including the sandwich and the variance
returned by <code><a href='https://rdrr.io/r/stats/lm.html'>stats::lm</a></code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The "maars_lm" object is basically an "lm" object with additional
attributes (the additional estimates of the coefficients variance),
which are stored within "var". For example, the estimates of the empirical
bootstrap will be stored within "var$var_boot_emp".
Each of the nested lists contains the following elements: the type of estimator of
of the variance  (<code>var_type</code>); An abbreviated string representing the
type of the estimator of the variance  (<code>var_type_abb</code>); the summary
statistics of <code>mod_fit</code> based on this estimator of the variance
(e.g., standard errors and p-values) (<code>var_summary</code>); the assumptions
under which the estimator of the variance is consistent
(<code>var_assumptions</code>); the covariance matrix for the coefficients
estimates (<code>cov_mat</code>).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Simulate data from a linear model</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>35542</span><span class='op'>)</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>1e2</span>
<span class='va'>X</span> <span class='op'>&lt;-</span> <span class='fu'>stats</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fl'>2</span> <span class='op'>+</span> <span class='va'>X</span> <span class='op'>*</span> <span class='fl'>1</span> <span class='op'>+</span> <span class='fu'>stats</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>

<span class='co'># Fit the linear model using OLS (ordinary least squares)</span>
<span class='va'>mod_fit</span> <span class='op'>&lt;-</span> <span class='fu'>stats</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>y</span> <span class='op'>~</span> <span class='va'>X</span><span class='op'>)</span>

<span class='co'># Run the multiplier bootstrap on the fitted (OLS) linear model</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>162632</span><span class='op'>)</span>
<span class='va'>out</span> <span class='op'>&lt;-</span> <span class='fu'>comp_var</span><span class='op'>(</span><span class='va'>mod_fit</span>, boot_mul <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>B <span class='op'>=</span> <span class='fl'>100</span>, weights_type <span class='op'>=</span> <span class='st'>"rademacher"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># print output</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>out</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>out</span><span class='op'>$</span><span class='va'>var</span><span class='op'>$</span><span class='va'>var_boot_mul</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Shamindra Shrotriya, Riccardo Fogliato, Arun Kumar Kuchibhotla.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'f0ad25edfd6fa5501f3057affbad5212',
    indexName: 'maars',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


